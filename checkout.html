<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - The Zentho Hotel</title>
    <link rel="stylesheet" href="style.css"> 
</head>

<body>

   <header>
    <div class="logo">
        <img src="images/weblogo.png" alt="Zentho Logo" class="header-logo-img">
        <h1>The Zentho Hotel</h1>
    </div>

        <nav>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="rooms.html">Rooms</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="booknow.html" class="active">Book Now</a></li>
                <li><a href="aboutus.html">About Us</a></li>
                <li><a href="contactus.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <section class="booking-hero">
        <h1>Secure Checkout</h1>
        <p>Complete your payment to finalize the booking.</p>
    </section>

    <section class="booking-container">
        <h2>Step 2: Payment & Billing</h2>
        
        <div class="summary-box">
            <h3>Booking Summary</h3>
            <p id="summaryRoom">Room: Loading...</p>
            <p class="final-price">Total to Pay: <span id="summaryPrice">...</span></p>
        </div>

        <form onsubmit="return finalizeBooking(event)">
            
            <h3>Personal Details</h3>
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" placeholder="e.g. Ali Khan" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" placeholder="ali@example.com" required>
                </div>
                <div class="form-group">
                    <label>CNIC Number</label>
                    <input type="text" id="cnic" placeholder="35202-xxxxxxx-x" oninput="enforceNumberAndHyphen(this)" required>
                </div>
            </div>

            <div class="form-group">
                <label>Billing Address</label>
                <input type="text" placeholder="House #, Street, City" required>
            </div>

            <h3 style="margin-top: 30px;">Payment Details</h3>
            <div class="form-group">
                <label>Card Number</label>
                <input type="text" id="cardNum" placeholder="0000 0000 0000 0000" maxlength="19" oninput="enforceNumberAndSpace(this)" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Expiry Date</label>
                    <input type="text" id="expiry" placeholder="MM/YY" maxlength="5" oninput="enforceExpiry(this)" required>
                </div>
                <div class="form-group">
                    <label>CVV</label>
                    <input type="password" id="cvv" placeholder="123" maxlength="3" oninput="enforceNumberOnly(this)" required>
                </div>
            </div>

            <div class="form-group" style="background: #fdfdfd; padding: 15px; border: 1px dashed #ccc; margin-top: 20px;">
                <label>Have a Coupon Code? (Optional)</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="couponCode" placeholder="Enter code here">
                    <button type="button" onclick="applyCoupon()" class="header-btn" style="border-radius: 4px;">Apply</button>
                </div>
                <small id="couponMessage" style="color: green;"></small>
            </div>

            <button type="submit" class="btn-submit" style="margin-top: 20px;">Confirm & Pay</button>
        </form>
    </section>

<footer class="footer">
  <div class="footer-container">

    <div class="footer-left">
      <img src="images/weblogo.png" alt="The Zentho Hotel Logo" class="footer-logo">
      <p>contact@zenthohotel.com</p>
      <p>(042) 111 333 000</p>
      <p>24–Egerton Road, Islamabad 54000</p>
    </div>

    <div class="footer-center">
      <h3>General</h3>
    <ul>
        <li><a href="rooms.html">Rooms</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="aboutus.html">About Us</a></li>
    </ul>
      <a href="rooms.html" class="footer-btn">Rooms Booking</a>
    </div>

    <div class="footer-right">
      <h3>Connect</h3>
      <ul class="social-links">
        <li><a href="https://facebook.com/ZenthoHotel" target="_blank" rel="noopener noreferrer">Facebook</a></li>
        <li><a href="https://instagram.com/ZenthoHotel" target="_blank" rel="noopener noreferrer">Instagram</a></li>
        <li><a href="https://youtube.com/ZenthoHotel" target="_blank" rel="noopener noreferrer">Youtube</a></li>
      </ul>
      <div class="weather-info">
        <strong>Islamabad Weather</strong>
        <div class="weather-icon-temp">
          <img src="images/weather.png" alt="Weather Icon" class="weather-icon">
          <span>9°C clear</span>
        </div>
      </div>
    </div>

  </div>

  <div class="footer-bottom">
    The Zentho Hotel – All rights reserved – Website Designed & Developed by Saad and Uzair.
  </div>
</footer>

    <script>
        var currentTotal = 0;

        window.onload = function()
        {
            var savedTotal = localStorage.getItem("zentho_total");
            var savedRoom = localStorage.getItem("zentho_room");

            if(savedTotal)
            {
                currentTotal = parseInt(savedTotal);
                document.getElementById("summaryPrice").innerText = "PKR " + currentTotal.toLocaleString();
                document.getElementById("summaryRoom").innerText = "Selected: " + savedRoom;
            }
        };

        
        function enforceNumberOnly(input)
        {
            input.value = input.value.replace(/[^0-9]/g, '');
        }

        function enforceNumberAndSpace(input)
        {
            input.value = input.value.replace(/[^0-9\s]/g, '');
        }

        function enforceNumberAndHyphen(input)
        {
            input.value = input.value.replace(/[^0-9-]/g, '');
        }

        function enforceExpiry(input)
        {
            input.value = input.value.replace(/[^0-9\/]/g, '');
            
            if(input.value.length === 2 && !input.value.includes('/')) {
                input.value = input.value + '/';
            }
        }

        function applyCoupon()
        {
            var code = document.getElementById("couponCode").value.toUpperCase();
            var message = document.getElementById("couponMessage");

            if (code === "ZENTHO10")
            {
                var discount = currentTotal * 0.10;
                var newTotal = currentTotal - discount;
                document.getElementById("summaryPrice").innerText = "PKR " + newTotal.toLocaleString();
                message.innerText = "Success! 10% Discount Applied.";
                message.style.color = "green";
            }
            else
            {
                message.innerText = "Invalid Code.";
                message.style.color = "red";
            }
        }

        function finalizeBooking(event)
        {
            event.preventDefault();
            alert("Payment Successful! Your booking at The Zentho Hotel is confirmed. Check your email for details.");
            window.location.href = "home.html";
        }
    </script>

</body>
</html>
